<div class="container-fluid">
<div class="page-wrapper">
        <div class="row">
            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="monthlyTotalPaid">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Monthly Total Sell</h5>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="monthlyTotalExpense">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Monthly Total Expense</h5>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="monthlyTotalBalance">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Monthly Total Balance</h5>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="todayTotalSell">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Today Total Sell</h5>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="todayTotalExpense">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Today Total Expense</h5>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-4 col-md-6 col-12">
                <div class="dash-widget d-flex">
                    <div class="dash-widgetimg">
                        <i class="fa-solid fa-money-bill-trend-up fa-2xl" style="color: #0095b3;"></i>
                    </div>
                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->
                        <div class="row" id="todayTotalBalance">
                            <h5>TK. <span style="color: #0c0c0c" class="counters"></span></h5>
                        </div>
                        <h5 style="color: #0c0c0c">Today Total Balance</h5>
                    </div>
                </div>
            </div>


{{--            <div class="col-xl-3 col-lg-4 col-md-6 col-12">--}}
{{--                <div class="dash-widget d-flex">--}}
{{--                    <div class="dash-widgetimg">--}}
{{--                        <span><img src="{{ asset('front-end/assets/img/icons/dash1.svg') }}" alt="img"></span>--}}
{{--                    </div>--}}
{{--                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->--}}
{{--                        <div class="row" id="totalPatient">--}}
{{--                            <h5><span style="color: #0c0c0c" class="counters"></span></h5>--}}
{{--                        </div>--}}
{{--                        <h5 style="color: #0c0c0c">Total Patients</h5>--}}
{{--                    </div>--}}
{{--                </div>--}}
{{--            </div>--}}
{{--            <div class="col-xl-3 col-lg-4 col-md-6 col-12">--}}
{{--                <div class="dash-widget d-flex">--}}
{{--                    <div class="dash-widgetimg">--}}
{{--                        <span><img src="{{ asset('front-end/assets/img/icons/dash1.svg') }}" alt="img"></span>--}}
{{--                    </div>--}}
{{--                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->--}}
{{--                        <div class="row" id="totalDoctor">--}}
{{--                            <h5><span style="color: #0c0c0c" class="counters"></span></h5>--}}
{{--                        </div>--}}
{{--                        <h5 style="color: #0c0c0c">Total Doctors</h5>--}}
{{--                    </div>--}}
{{--                </div>--}}
{{--            </div>--}}
{{--            <div class="col-xl-3 col-lg-4 col-md-6 col-12">--}}
{{--                <div class="dash-widget d-flex">--}}
{{--                    <div class="dash-widgetimg">--}}
{{--                        <span><img src="{{ asset('front-end/assets/img/icons/dash1.svg') }}" alt="img"></span>--}}
{{--                    </div>--}}
{{--                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->--}}
{{--                        <div class="row" id="totalPC">--}}
{{--                            <h5><span style="color: #0c0c0c" class="counters"></span></h5>--}}
{{--                        </div>--}}
{{--                        <h5 style="color: #0c0c0c">Total PC</h5>--}}
{{--                    </div>--}}
{{--                </div>--}}
{{--            </div>--}}
{{--            <div class="col-xl-3 col-lg-4 col-md-6 col-12">--}}
{{--                <div class="dash-widget d-flex">--}}
{{--                    <div class="dash-widgetimg">--}}
{{--                        <span><img src="{{ asset('front-end/assets/img/icons/dash1.svg') }}" alt="img"></span>--}}
{{--                    </div>--}}
{{--                    <div class="dash-widgetcontent" style="color: #0c0c0c; font-size: 20px; font-weight: bold" > <!-- Add id here -->--}}
{{--                        <div class="row" id="totalTest">--}}
{{--                            <h5><span style="color: #0c0c0c" class="counters"></span></h5>--}}
{{--                        </div>--}}
{{--                        <h5 style="color: #0c0c0c">Total Test</h5>--}}
{{--                    </div>--}}
{{--                </div>--}}
{{--            </div>--}}

        </div>
    </div>
</div>

<script>
    fetchTotalValues();
    updateTotalValues();

    // Fetch total values from the server
    async function fetchTotalValues() {
        try {
            showLoader();
            const res = await axios.get("/dashboard-all-calculation", HeaderToken());
            hideLoader();
            return res.data;
        } catch (error) {
            console.error('Error fetching total values:', error);
            throw error;
        }
    }

    // Update total values on the dashboard
    async function updateTotalValues() {
        const monthlyTotalPaidElement = document.querySelector("#monthlyTotalPaid .counters");
        const monthlyTotalExpenseElement = document.querySelector("#monthlyTotalExpense .counters");
        const monthlyTotalBalanceElement = document.querySelector("#monthlyTotalBalance .counters");
        const todayTotalSellElement = document.querySelector("#todayTotalSell .counters");
        const todayTotalExpenseElement = document.querySelector("#todayTotalExpense .counters");
        const todayTotalBalanceElement = document.querySelector("#todayTotalBalance .counters");
        // const totalExpensesElement = document.querySelector("#totalExpenses .counters");
        // const todaySellElement = document.querySelector("#todaySell .counters");
        // const todayTotalPaidElement = document.querySelector("#todayTotalIncome .counters");
        // const todayTotalDueElement = document.querySelector("#todayTotalDue .counters");
        // const todayTotalExpensesElement = document.querySelector("#todayTotalExpenses .counters");
        // const totalPatientElement = document.querySelector("#totalPatient .counters");
        // const totalDoctorElement = document.querySelector("#totalDoctor .counters");
        // const totalPCElement = document.querySelector("#totalPC .counters");
        // const totalTestElement = document.querySelector("#totalTest .counters");
        // const totalPCDiscountElement = document.querySelector("#totalPCDiscount .counters");
        // const todayPCDiscountElement = document.querySelector("#todayPCDiscount .counters");
        try {
            const totalValues = await fetchTotalValues();
            if (totalValues) {
                const monthlyTotalPaidAmount = totalValues.monthlyTotalPaidAmount;
                const monthlyTotalExpenseAmount = totalValues.monthlyTotalExpenseAmount;
                const monthlyTotalBalanceAmount = totalValues.monthlyTotalBalanceAmount;
                const todayTotalPaidAmount = totalValues.todayTotalPaidAmount;
                const todayTotalExpensesAmount = totalValues.todayTotalExpensesAmount;
                const todayTotalBalanceAmount = totalValues.todayTotalBalanceAmount;
                // const totalExpensesAmount = totalValues.totalExpensesAmount;
                // const todaySellAmount = totalValues.todaySellAmount;
                // const todayTotalPaidAmount = totalValues.todayTotalPaidAmount;
                // const todayTotalDueAmount = totalValues.todayTotalDueAmount;
                // const todayTotalExpensesAmount = totalValues.todayTotalExpensesAmount;
                // const totalPatient = totalValues.totalPatient;
                // const totalDoctor = totalValues.totalDoctor;
                // const totalPC = totalValues.totalPC;
                // const totalTest = totalValues.totalTest;
                // const totalPCDiscountAmount = totalValues.totalPCDiscountAmount;
                // const todayPCDiscountAmount = totalValues.todayPCDiscountAmount;

                if (monthlyTotalPaidAmount !== null) {
                    monthlyTotalPaidElement.textContent = `${monthlyTotalPaidAmount.toFixed(2)}`;
                } else {
                    monthlyTotalPaidElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                }
                if (monthlyTotalExpenseAmount !== null) {
                    monthlyTotalExpenseElement.textContent = `${monthlyTotalExpenseAmount.toFixed(2)}`;
                } else {
                    monthlyTotalExpenseElement.textContent = "N/A"; // Display N/A if there's an error fetching the total sell value
                }
                if (monthlyTotalBalanceAmount  !== null) {
                    monthlyTotalBalanceElement.textContent = `${monthlyTotalBalanceAmount.toFixed(2)}`;
                } else {
                    monthlyTotalBalanceElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                }
                if (todayTotalPaidAmount  !== null) {
                    todayTotalSellElement.textContent = `${todayTotalPaidAmount.toFixed(2)}`;
                } else {
                    todayTotalSellElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                }
                if (todayTotalExpensesAmount  !== null) {
                    todayTotalExpenseElement.textContent = `${todayTotalExpensesAmount.toFixed(2)}`;
                } else {
                    todayTotalExpenseElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                }if (todayTotalBalanceAmount  !== null) {
                    todayTotalBalanceElement.textContent = `${todayTotalBalanceAmount.toFixed(2)}`;
                } else {
                    todayTotalBalanceElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                }
                // if (totalExpensesAmount  !== null) {
                //     totalExpensesElement.textContent = `${totalExpensesAmount.toFixed(2)}`;
                // } else {
                //     totalExpensesElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (todaySellAmount  !== null) {
                //     todaySellElement.textContent = `${todaySellAmount.toFixed(2)}`;
                // } else {
                //     todaySellElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (todayTotalPaidAmount  !== null) {
                //     todayTotalPaidElement.textContent = `${todayTotalPaidAmount.toFixed(2)}`;
                // } else {
                //     todayTotalPaidElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (todayTotalDueAmount  !== null) {
                //     todayTotalDueElement.textContent = `${todayTotalDueAmount.toFixed(2)}`;
                // } else {
                //     todayTotalDueElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (todayTotalExpensesAmount  !== null) {
                //     todayTotalExpensesElement.textContent = `${todayTotalExpensesAmount.toFixed(2)}`;
                // } else {
                //     todayTotalExpensesElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (totalPatient  !== null) {
                //     totalPatientElement.textContent = `${totalPatient.toFixed(0)}`;
                // } else {
                //     totalPatientElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (totalDoctor  !== null) {
                //     totalDoctorElement.textContent = `${totalDoctor.toFixed(0)}`;
                // } else {
                //     totalDoctorElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (totalPC  !== null) {
                //     totalPCElement.textContent = `${totalPC.toFixed(0)}`;
                // } else {
                //     totalPCElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (totalTest  !== null) {
                //     totalTestElement.textContent = `${totalTest.toFixed(0)}`;
                // } else {
                //     totalTestElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (totalPCDiscountAmount  !== null) {
                //     totalPCDiscountElement.textContent = `${totalPCDiscountAmount.toFixed(0)}`;
                // } else {
                //     totalPCDiscountElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }
                // if (todayPCDiscountAmount  !== null) {
                //     todayPCDiscountElement.textContent = `${todayPCDiscountAmount.toFixed(0)}`;
                // } else {
                //     todayPCDiscountElement.textContent = "N/A"; // Display N/A if there's an error fetching the total paid amount
                // }

            } else {
                console.error('Total values not found.');
            }
        } catch (error) {
            console.error('Error updating total values:', error);
            if (monthlyTotalPaidElement) {
                monthlyTotalPaidElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            }
            if (monthlyTotalExpenseElement) {
                monthlyTotalExpenseElement.textContent = "N/A"; // Display N/A if there's an error updating the total sell value
            }
            if (monthlyTotalBalanceElement) {
                monthlyTotalBalanceElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            }
            if (todayTotalSellElement) {
                todayTotalSellElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            }
            if (todayTotalExpenseElement) {
                todayTotalExpenseElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            }
            if (todayTotalBalanceElement) {
                todayTotalBalanceElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            }
            // if (totalExpensesElement) {
            //     totalExpensesElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (todaySellElement) {
            //     todaySellElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (todayTotalPaidElement) {
            //     todayTotalPaidElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (todayTotalDueElement) {
            //     todayTotalDueElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (todayTotalExpensesElement) {
            //     todayTotalExpensesElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (totalPatientElement) {
            //     totalPatientElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (totalDoctorElement) {
            //     totalDoctorElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (totalPCElement) {
            //     totalPCElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (totalTestElement) {
            //     totalTestElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (totalPCDiscountElement) {
            //     totalPCDiscountElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
            // if (todayPCDiscountElement) {
            //     todayPCDiscountElement.textContent = "N/A"; // Display N/A if there's an error updating the total income value
            // }
        }
    }
</script>
